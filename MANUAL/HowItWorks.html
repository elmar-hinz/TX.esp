

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How it Works &mdash; EXT: Stored Procedures from TypoScript (esp)</title>
    
    <link rel="stylesheet" href="_static/typo3sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="EXT: Stored Procedures from TypoScript (esp)" href="index.html" />
    <link rel="next" title="Example Usecases" href="Usecases.html" />
    <link rel="prev" title="Considerations" href="Considerations.html" /> 
  </head>
  <body>
<div id="logo-div">
  <a href="index.html" title="Start">
    <img id="logo-img" src="_static/typo3-logo.png" 
         border="0" alt="TYPO3 Logo" />
  </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Usecases.html" title="Example Usecases"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Considerations.html" title="Considerations"
             accesskey="P">previous</a> |</li>
  <li><a href="index.html">home</a>|&nbsp;</li>
  <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How it Works</a><ul>
<li><a class="reference internal" href="#using-mysqli-to-access-the-result">Using mysqli to access the result</a></li>
<li><a class="reference internal" href="#the-order-of-queries-and-results">The order of queries and results</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Considerations.html"
                        title="previous chapter">Considerations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Usecases.html"
                        title="next chapter">Example Usecases</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/HowItWorks.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-it-works">
<h1>How it Works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-mysqli-to-access-the-result">
<h2>Using mysqli to access the result<a class="headerlink" href="#using-mysqli-to-access-the-result" title="Permalink to this headline">¶</a></h2>
<p><em>Stored procedures</em> are called with parameters. The parameters can be used as bidirectional
channels by setting them to <em>INOUT</em>. However, they can not pass arrays, so they are not
usable to return a multiline result.</p>
<p>To access the multiline result of a SELECT query in the stored procedure the multi result
feature of mysqli is used. With TYPO3 CMS 6.1 mysqli comes as default database connection.
For older versions still an additional mysqli connection is opened.</p>
</div>
<div class="section" id="the-order-of-queries-and-results">
<h2>The order of queries and results<a class="headerlink" href="#the-order-of-queries-and-results" title="Permalink to this headline">¶</a></h2>
<p>The first query to the database sets up the parameters for the procedure if any.</p>
<p>The second query calls the procedure. It returns TRUE on success as the first result.
The multiline result is accessed by the second result if any. Any further results are
discarded for now, until the result queue is empty.</p>
<p>By a third query the outgoing parameters are retrieved if any.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Usecases.html" title="Example Usecases"
             >next</a> |</li>
        <li class="right" >
          <a href="Considerations.html" title="Considerations"
             >previous</a> |</li>
  <li><a href="index.html">home</a>|&nbsp;</li>
  <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>