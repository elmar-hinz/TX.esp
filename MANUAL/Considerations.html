

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Considerations &mdash; EXT: Stored Procedures from TypoScript (esp)</title>
    
    <link rel="stylesheet" href="_static/typo3sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="EXT: Stored Procedures from TypoScript (esp)" href="index.html" />
    <link rel="next" title="How it Works" href="HowItWorks.html" />
    <link rel="prev" title="Extension: Stored Procedures for TypoScript (esp)" href="Index.html" /> 
  </head>
  <body>
<div id="logo-div">
  <a href="index.html" title="Start">
    <img id="logo-img" src="_static/typo3-logo.png" 
         border="0" alt="TYPO3 Logo" />
  </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="HowItWorks.html" title="How it Works"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Index.html" title="Extension: Stored Procedures for TypoScript (esp)"
             accesskey="P">previous</a> |</li>
  <li><a href="index.html">home</a>|&nbsp;</li>
  <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="Index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Considerations</a><ul>
<li><a class="reference internal" href="#why-stored-procedures">Why stored procedures?</a></li>
<li><a class="reference internal" href="#what-are-they-for">What are they for?</a></li>
<li><a class="reference internal" href="#performance-of-execution">Performance of execution</a><ul>
<li><a class="reference internal" href="#reducing-the-amount-of-calls-to-the-database">Reducing the amount of calls to the database</a></li>
<li><a class="reference internal" href="#avoiding-heavy-php-layers">Avoiding heavy PHP layers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#speed-and-simplicity-of-development">Speed and simplicity of development</a></li>
<li><a class="reference internal" href="#why-not-mysql-views">Why not Mysql Views?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Index.html"
                        title="previous chapter">Extension: Stored Procedures for TypoScript (esp)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="HowItWorks.html"
                        title="next chapter">How it Works</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Considerations.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="considerations">
<h1>Considerations<a class="headerlink" href="#considerations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-stored-procedures">
<h2>Why stored procedures?<a class="headerlink" href="#why-stored-procedures" title="Permalink to this headline">¶</a></h2>
<p>There are three mayor motivations to develop and use this extension:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Performance of execution</li>
<li>Speed of development</li>
<li>Simplicity of development</li>
</ol>
</div></blockquote>
<p>However it depends on, when we can reach this goals and when not.</p>
</div>
<div class="section" id="what-are-they-for">
<h2>What are they for?<a class="headerlink" href="#what-are-they-for" title="Permalink to this headline">¶</a></h2>
<p>The original field of stored procedures is to perform update operations on complex databases,
with regard to the referential integrity, by encapsulating business logic into the datase
and separating it from client programming on top.</p>
<p>In contrast in the field of TYPO3 the referential integrity of update operations is controlled
by the TCE. Here stored procedures focus on select operations avoiding heavy PHP layers
like extbase for read operations, especially for non-cached like USER_INT.</p>
</div>
<div class="section" id="performance-of-execution">
<h2>Performance of execution<a class="headerlink" href="#performance-of-execution" title="Permalink to this headline">¶</a></h2>
<p>It is not that <em>Mysql Stored Procedures</em> are generally faster by nature than calls from PHP.
Both can be cached by the database to some extend. It is a complex field influenced by multiple
factors.  In the context of TYPO3 there are usecases, where you can gain performance using
<em>Mysql Stored Procedures</em> in comparism to other solutions.</p>
<div class="section" id="reducing-the-amount-of-calls-to-the-database">
<h3>Reducing the amount of calls to the database<a class="headerlink" href="#reducing-the-amount-of-calls-to-the-database" title="Permalink to this headline">¶</a></h3>
<p>A direct merit for performance is to replace multiple calls to the database by one to
a stored procedure. Querying the rootline or a menu tree are typical situations when
recursive calls to the same table are done.</p>
</div>
<div class="section" id="avoiding-heavy-php-layers">
<h3>Avoiding heavy PHP layers<a class="headerlink" href="#avoiding-heavy-php-layers" title="Permalink to this headline">¶</a></h3>
<p>An indirect merit for performance is, to avoid heavy, object intensive PHP layers.</p>
</div>
</div>
<div class="section" id="speed-and-simplicity-of-development">
<h2>Speed and simplicity of development<a class="headerlink" href="#speed-and-simplicity-of-development" title="Permalink to this headline">¶</a></h2>
<p>Extbase as an <em>Object Relational Mapper</em> is focused on modelling the domain in form of PHP
objects. In theory you would not bother with the persistance layer at all. In practice you
addintionally have to define the persistance layer in form ot TCA and SQL definitions. Overall
you deal with 3 layers, the database, PHP and TypoScript.</p>
<p>On contrary <em>stored procedures</em> are focused on the relational model of the SQL database. It
joins the tables in form of SQL queries to produce the view the frontend wants to display.
There is no such thing like a domain model. You go with stored procedures and TypoScript,
without the use of PHP.</p>
<p>You could conclude thinking in form of a relational data model is rather oldschool, but it
depends on the field of the application if a relational or an object orientated data model
is superior.</p>
<p>If your data is already organized in a relational model for historical reasons, it is kind
of overhead in planning and in performance to put an additional object orientated layer on
top of it.</p>
<p>After all it depends on the siklls of the development team, if it prefers to focus on PHP
or on TypoScript and SQL.</p>
</div>
<div class="section" id="why-not-mysql-views">
<h2>Why not Mysql Views?<a class="headerlink" href="#why-not-mysql-views" title="Permalink to this headline">¶</a></h2>
<p>Good interjection. In theory you would use SQL views to provide a comforatable read interface
to the database, while stored procedures are rather targeted for write operations. The issue
with views in MySql is performance. Exactly where views start to become ambitious, they
lose their ability to access table indexes an slow down matters in MySql.</p>
<p>This extension <a href="#id1"><span class="problematic" id="id2">|extension_name|</span></a> places the query results into a temporary table, from where
they are rendered by the well known techniques of TypoScript. So this temporary talbes are
kind of replacement for sucking views in MySql.</p>
<p>Apart from performance there are some usecases, where views would be limited compared to the
possibilities of programmable stored procedures.</p>
<p>Having said this, there are many usecases, where views are a good choice as long as they
can make use of the <em>merge algorithem</em> to be more precisely. Simply google for it.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="HowItWorks.html" title="How it Works"
             >next</a> |</li>
        <li class="right" >
          <a href="Index.html" title="Extension: Stored Procedures for TypoScript (esp)"
             >previous</a> |</li>
  <li><a href="index.html">home</a>|&nbsp;</li>
  <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>